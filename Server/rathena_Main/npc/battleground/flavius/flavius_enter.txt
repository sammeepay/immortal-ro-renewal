//===== rAthena Script =======================================
//= BattleGround System - Flavius Entrance NPCs
//===== Description: =========================================
//= [Official Conversion]
//= Flavius Battleground Entrance NPCs
//===== Changelogs: ==========================================
//= 1.0 First Version. [L0ne_W0lf]
//= 1.1 Added battle_config checks to allow this script to use the new queue interface or the previous method. [Aleos]
//============================================================

// Flavius Officer - Guillaume
//============================================================
bat_room,133,178,5	script	Flavius Officer#01a	418,{
	if (getbattleflag("feature.bgqueue"))
		end;
	if (checkweight(1201,1) == 0) {
		mes "- เดี๋ยวก่อน !! -";
		mes "- ขณะนี้ท่านกำลังพก -";
		mes "- สิ่งของติดตัวมากเกินไป -";
		mes "- โปรดลองอีกครั้ง -";
		mes "- หลังจากลดน้ำหนัก -";
		close;
	}
	mes "[Guillaume Army Officer]";
	mes "มาแสดงพลังของกองทัพ Guillaume ให้ Croixs เหล่านั้นได้เห็น!";
	next;
	switch(select("ข้าต้องการเข้าร่วมกองทัพของท่าน!:จบการสนทนา")) {
	case 1:
		if ((Class == Job_Novice) || (BaseClass == Job_Super_Novice)) {
			mes "[Guillaume Army Officer]";
			mes "ข้ายินดีมากที่ท่านต้องการเข้าร่วมและต่อสู้กับกองทัพ Guillaume แต่ข้าขออภัย: ข้าไม่สามารถส่งมือใหม่อย่างท่านไปตายในสนามรบที่โหดร้ายได้";
		}
		else {
			if (BaseLevel < 80) {
				mes "[Guillaume Army Officer]";
				mes "ข้ายินดีมากที่ท่านต้องการเข้าร่วมและต่อสู้กับกองทัพ Guillaume แต่ข้าขออภัย: ข้าไม่สามารถส่งมือใหม่อย่างท่านไปตายในสนามรบที่โหดร้ายได้";
			}
			else {
				set .@chk_urtime,checkquest(2070,PLAYTIME);
				if ((.@chk_urtime == 0)|| (.@chk_urtime == 1)) {
					mes "[Guillaume Army Officer]";
					mes "ท่านดูเหมือนจะเพิ่งกลับมาจากสนามรบ";
					mes "มันเร็วเกินไปที่ท่านจะกลับไป ไปพักผ่อนแล้วทิ้งศัตรูไว้ให้พวกเรา!";
				}
				else {
					if (.@chk_urtime == 2)
						erasequest 2070;
					set .@mapcount2,getmapusers("bat_b01");
					if (.@mapcount2 > 0) {
						mes "[Guillaume Army Officer]";
						mes "ข้าได้รับรายงานแจ้งว่า กองกำลังชั้นยอดได้ถูกส่งไปยังสนามรบเพื่อต่อสู้กับ Croixs แล้ว";
						mes "ทำไมท่านไม่รอซักพักล่ะ? ข้าขอแนะนำให้ท่านลับอาวุธของท่าน และเตรียมเสบียงของท่านจนกว่าจะถึงตอนนั้น";
					}
					else {
						if ($@FlaviusBG1 > 0) {
							mes "[Guillaume Army Officer]";
							mes "กองกำลังชั้นนำกำลังยืนอยู่เพื่อถูกส่งไปยังสนามรบ";
							mes "ทำไมท่านไม่รอซักพักล่ะ? ข้าขอแนะนำให้ท่านลับอาวุธของท่าน และเตรียมเสบียงของท่านจนกว่าจะถึงตอนนั้น";
						}
						else {
							mes "[Guillaume Army Officer]";
							mes "ดูเหมือนท่านพร้อมสำหรับการต่อสู้อย่างแน่นอน!";
							mes "ไปแสดงให้ Croix เห็นว่าความกลัวที่แท้จริงหมายถึงอะไร!";
							mes "วันนี้เสียงร้องแห่งชัยชนะของเราจะสะท้อนไปทั่วสนามรบ!";
							close2;
							warp "bat_room",85,223;
							end;
						}
					}
				}
			}
		}
		break;
	case 2:
		mes "[Guillaume Army Officer]";
		mes "วันนี้เราจะได้รับชัยชนะ!";
		break;
	}
	close;
}

bat_room,133,121,1	script	Flavius Officer#01b	414,{
	if (getbattleflag("feature.bgqueue"))
		end;
	if (checkweight(1201,1) == 0) {
		mes "- เดี๋ยวก่อน !! -";
		mes "- ขณะนี้ท่านกำลังพก -";
		mes "- สิ่งของติดตัวมากเกินไป -";
		mes "- โปรดลองอีกครั้ง -";
		mes "- หลังจากลดน้ำหนัก -";
		close;
	}
	mes "[Croix Army Officer]";
	mes "มาแสดงพลังของกองทัพ Croixs ให้ Guillaume เหล่านั้นได้เห็น!";
	next;
	switch(select("ข้าต้องการเข้าร่วมกองทัพของท่าน!:จบการสนทนา")) {
	case 1:
		if ((Class == Job_Novice) || (BaseClass == Job_Super_Novice)) {
			mes "[Croix Army Officer]";
			mes "ข้ายินดีมากที่ท่านต้องการเข้าร่วมและต่อสู้กับกองทัพ Croix แต่ข้าขออภัย: ข้าไม่สามารถส่งมือใหม่อย่างท่านไปตายในสนามรบที่โหดร้ายได้";
		}
		else {
			if (BaseLevel < 80) {
				mes "[Croix Army Officer]";
				mes "ข้ายินดีมากที่ท่านต้องการเข้าร่วมและต่อสู้กับกองทัพ Croix แต่ข้าขออภัย: ข้าไม่สามารถส่งมือใหม่อย่างท่านไปตายในสนามรบที่โหดร้ายได้";
			}
			else {
				set .@chk_urtime,checkquest(2070,PLAYTIME);
				if ((.@chk_urtime == 0)|| (.@chk_urtime == 1)) {
					mes "[Croix Army Officer]";
					mes "ท่านดูเหมือนจะเพิ่งกลับมาจากสนามรบ";
					mes "มันเร็วเกินไปที่ท่านจะกลับไป ไปพักผ่อนแล้วทิ้งศัตรูไว้ให้พวกเรา!";
				}
				else {
					if (.@chk_urtime == 2)
						erasequest 2070;
					set .@mapcount2,getmapusers("bat_b01");
					if (.@mapcount2 > 0) {
						mes "[Croix Army Officer]";
						mes "ข้าได้รับรายงานแจ้งว่า กองกำลังชั้นยอดได้ถูกส่งไปยังสนามรบเพื่อต่อสู้กับ Guillaume แล้ว";
						mes "ทำไมท่านไม่รอซักพักล่ะ? ข้าขอแนะนำให้ท่านลับอาวุธของท่าน และเตรียมเสบียงของท่านจนกว่าจะถึงตอนนั้น";
					}
					else {
						if ($@FlaviusBG1 > 0) {
							mes "[Croix Army Officer]";
							mes "กองกำลังชั้นนำกำลังยืนอยู่เพื่อถูกส่งไปยังสนามรบ";
							mes "ทำไมท่านไม่รอซักพักล่ะ? ข้าขอแนะนำให้ท่านลับอาวุธของท่าน และเตรียมเสบียงของท่านจนกว่าจะถึงตอนนั้น";
						}
						else {
							mes "[Croix Army Officer]";
							mes "ดูเหมือนท่านพร้อมสำหรับการต่อสู้อย่างแน่นอน!";
							mes "ไปแสดงให้ Guillaumes เห็นว่าความกลัวที่แท้จริงหมายถึงอะไร!";
							mes "วันนี้เสียงร้องแห่งชัยชนะของเราจะสะท้อนไปทั่วสนามรบ!";
							close2;
							warp "bat_room",85,207;
							end;
						}
					}
				}
			}
		}
		break;
	case 2:
		mes "[Croix Army Officer]";
		mes "วันนี้เราจะได้รับชัยชนะ!";
		break;
	}
	close;
}

bat_room,135,178,5	script	Guillaume Knight#3	417,{
	mes "[Guillaume Knight]";
	mes "วัตถุประสงค์ของการต่อสู้ Flavius คือการทำคะแนน 2 คะแนน ก่อนศัตรูของท่าน โดยการทำลายคริสตัลของพวกเขา";
	next;
	mes "[Guillaume Knight]";
	mes "ผลึกของกองทัพทั้งสองนั้น ได้รับการปกป้องด้วยเครื่องกีดขวางพิเศษที่ไม่สามารถทำลายได้จากการโจมตีโดยตรง";
	next;
	mes "[Guillaume Knight]";
	mes "แต่พวกเขาสามารถลบออกได้ โดยการทำลายผู้พิทักษ์ที่ปกป้องฐานทัพของศัตรู";
	next;
	mes "[Guillaume Knight]";
	mes "คริสตัลมีภูมิต้านทานต่อทักษะทุกประเภท การโจมตีทางกายภาพของท่านเป็นทางเลือกเดียวในการทำลายคริสตัลของศัตรู";
	next;
	mes "[Guillaume Knight]";
	if (getbattleflag("feature.bgqueue"))
		mes "หากท่านพร้อม ให้เริ่มโดยคลิกปุ่ม ^0000FFปุ่มต่อสู้ จากอินเทอร์เฟซ^000000";
	else {
		mes "โปรดจำไว้ว่า: เมื่อท่านเข้าร่วมการต่อสู้ ท่านจะได้รับโทเค็นซึ่งระบุระยะเวลาที่ท่านไม่สามารถเข้าร่วมในการต่อสู้ประเภทเดียวกันได้";
		mes "ท่านสามารถตรวจสอบระยะเวลาได้โดยกดปุ่ม Alt+U";
	}
	next;
	mes "[Guillaume Knight]";
	if (getbattleflag("feature.bgqueue"))
		mes "โปรดจำไว้เมื่อท่านยกเลิก ^0000FFท่านไม่สามารถลงทะเบียนใหม่ได้เป็นเวลา 1 นาที^000000!";
	else
		mes "ท่านพร้อมสำหรับการต่อสู้หรือยัง? จากนั้นลงทะเบียนกับผู้สรรหาถัดจากฉัน!";
	close;
}

bat_room,151,178,5	duplicate(Guillaume Knight#3)	Guillaume Knight#4	417

bat_room,135,121,1	script	Croix Knight#3	413,{
	mes "[Croix Knight]";
	mes "วัตถุประสงค์ของการต่อสู้ Flavius คือการทำคะแนน 2 คะแนน ก่อนศัตรูของท่าน โดยการทำลายคริสตัลของพวกเขา";
	next;
	mes "[Croix Knight]";
	mes "ผลึกของกองทัพทั้งสองนั้น ได้รับการปกป้องด้วยเครื่องกีดขวางพิเศษที่ไม่สามารถทำลายได้จากการโจมตีโดยตรง";
	next;
	mes "[Croix Knight]";
	mes "แต่พวกเขาสามารถลบออกได้ โดยการทำลายผู้พิทักษ์ที่ปกป้องฐานทัพของศัตรู";
	next;
	mes "[Croix Knight]";
	mes "คริสตัลมีภูมิต้านทานต่อทักษะทุกประเภท การโจมตีทางกายภาพของท่านเป็นทางเลือกเดียวในการทำลายคริสตัลของศัตรู";
	next;
	mes "[Croix Knight]";
	if (getbattleflag("feature.bgqueue"))
		mes "หากท่านพร้อม ให้เริ่มโดยคลิกปุ่ม ^0000FFปุ่มต่อสู้ จากอินเทอร์เฟซ^000000.";
	else {
		mes "โปรดจำไว้ว่า: เมื่อท่านเข้าร่วมการต่อสู้ ท่านจะได้รับโทเค็นซึ่งระบุระยะเวลาที่ท่านไม่สามารถเข้าร่วมในการต่อสู้ประเภทเดียวกันได้";
		mes "ท่านสามารถตรวจสอบระยะเวลาได้โดยกดปุ่ม Alt+U";
	}
	next;
	mes "[Croix Knight]";
	if (getbattleflag("feature.bgqueue"))
		mes "โปรดจำไว้เมื่อท่านยกเลิก ^0000FFท่านไม่สามารถลงทะเบียนใหม่ได้เป็นเวลา 1 นาที^000000!";
	else
		mes "ท่านพร้อมสำหรับการต่อสู้หรือยัง? จากนั้นลงทะเบียนกับผู้สรรหาถัดจากฉัน!";
	close;
}

bat_room,151,121,1	duplicate(Croix Knight#3)	Croix Knight#4	413

// Flavius Officer - Croix
//============================================================
bat_room,148,178,5	script	Flavius Officer#02a	418,{
	if (getbattleflag("feature.bgqueue"))
		end;
	if (checkweight(1201,1) == 0) {
		mes "- เดี๋ยวก่อน !! -";
		mes "- ขณะนี้ท่านกำลังพก -";
		mes "- สิ่งของติดตัวมากเกินไป -";
		mes "- โปรดลองอีกครั้ง -";
		mes "- หลังจากลดน้ำหนัก -";
		close;
	}
	mes "[Guillaume Army Officer]";
	mes "มาแสดงพลังของกองทัพ Guillaume ให้ Croixs เหล่านั้นได้เห็น!";
	next;
	switch(select("ข้าต้องการเข้าร่วมกองทัพของท่าน!:จบการสนทนา")) {
	case 1:
		if ((Class == Job_Novice) || (BaseClass == Job_Super_Novice)) {
			mes "[Guillaume Army Officer]";
			mes "ข้ายินดีมากที่ท่านต้องการเข้าร่วมและต่อสู้กับกองทัพ Guillaume แต่ข้าขออภัย: ข้าไม่สามารถส่งมือใหม่อย่างท่านไปตายในสนามรบที่โหดร้ายได้";
		}
		else {
			if (BaseLevel < 80) {
				mes "[Guillaume Army Officer]";
				mes "ข้ายินดีมากที่ท่านต้องการเข้าร่วมและต่อสู้กับกองทัพ Guillaume แต่ข้าขออภัย: ข้าไม่สามารถส่งมือใหม่อย่างท่านไปตายในสนามรบที่โหดร้ายได้";
			}
			else {
				set .@chk_urtime,checkquest(2070,PLAYTIME);
				if ((.@chk_urtime == 0)|| (.@chk_urtime == 1)) {
					mes "[Guillaume Army Officer]";
					mes "ท่านดูเหมือนจะเพิ่งกลับมาจากสนามรบ";
					mes "มันเร็วเกินไปที่ท่านจะกลับไป ไปพักผ่อนแล้วทิ้งศัตรูไว้ให้พวกเรา!";
				}
				else {
					if (.@chk_urtime == 2)
						erasequest 2070;
					set .@mapcount2,getmapusers("bat_b02");
					if (.@mapcount2 > 0) {
						mes "[Guillaume Army Officer]";
						mes "ข้าได้รับรายงานแจ้งว่า กองกำลังชั้นยอดได้ถูกส่งไปยังสนามรบเพื่อต่อสู้กับ Croixs แล้ว";
						mes "ทำไมท่านไม่รอซักพักล่ะ? ข้าขอแนะนำให้ท่านลับอาวุธของท่าน และเตรียมเสบียงของท่านจนกว่าจะถึงตอนนั้น";
					}
					else {
						if ($@FlaviusBG2 > 0) {
							mes "[Guillaume Army Officer]";
							mes "กองกำลังชั้นนำกำลังยืนอยู่เพื่อถูกส่งไปยังสนามรบ";
							mes "ทำไมท่านไม่รอซักพักล่ะ? ข้าขอแนะนำให้ท่านลับอาวุธของท่าน และเตรียมเสบียงของท่านจนกว่าจะถึงตอนนั้น";
						}
						else {
							mes "[Guillaume Army Officer]";
							mes "ดูเหมือนท่านพร้อมสำหรับการต่อสู้อย่างแน่นอน!";
							mes "ไปแสดงให้ Croix เห็นว่าความกลัวที่แท้จริงหมายถึงอะไร!";
							mes "วันนี้เสียงร้องแห่งชัยชนะของเราจะสะท้อนไปทั่วสนามรบ!";
							close2;
							warp "bat_room",141,224;
							end;
						}
					}
				}
			}
		}
		break;
	case 2:
		mes "[Guillaume Army Officer]";
		mes "วันนี้เราจะได้รับชัยชนะ!";
		break;
	}
	close;
}

bat_room,148,121,1	script	Flavius Officer#02b	414,{
	if (getbattleflag("feature.bgqueue"))
		end;
	if (checkweight(1201,1) == 0) {
		mes "- เดี๋ยวก่อน !! -";
		mes "- ขณะนี้ท่านกำลังพก -";
		mes "- สิ่งของติดตัวมากเกินไป -";
		mes "- โปรดลองอีกครั้ง -";
		mes "- หลังจากลดน้ำหนัก -";
		close;
	}
	mes "[Croix Army Officer]";
	mes "มาแสดงพลังของกองทัพ Croixs ให้ Guillaume เหล่านั้นได้เห็น!";
	next;
	switch(select("ข้าต้องการเข้าร่วมกองทัพของท่าน!:จบการสนทนา")) {
	case 1:
		if ((Class == Job_Novice) || (BaseClass == Job_Super_Novice)) {
			mes "[Croix Army Officer]";
			mes "ข้ายินดีมากที่ท่านต้องการเข้าร่วมและต่อสู้กับกองทัพ Croix แต่ข้าขออภัย: ข้าไม่สามารถส่งมือใหม่อย่างท่านไปตายในสนามรบที่โหดร้ายได้";
		}
		else {
			if (BaseLevel < 80) {
				mes "[Croix Army Officer]";
				mes "ข้ายินดีมากที่ท่านต้องการเข้าร่วมและต่อสู้กับกองทัพ Croix แต่ข้าขออภัย: ข้าไม่สามารถส่งมือใหม่อย่างท่านไปตายในสนามรบที่โหดร้ายได้";
			}
			else {
				set .@chk_urtime,checkquest(2070,PLAYTIME);
				if ((.@chk_urtime == 0)|| (.@chk_urtime == 1)) {
					mes "[Croix Army Officer]";
					mes "ท่านดูเหมือนจะเพิ่งกลับมาจากสนามรบ";
					mes "มันเร็วเกินไปที่ท่านจะกลับไป ไปพักผ่อนแล้วทิ้งศัตรูไว้ให้พวกเรา!";
				}
				else {
					if (.@chk_urtime == 2)
						erasequest 2070;
					set .@mapcount2,getmapusers("bat_b02");
					if (.@mapcount2 > 0) {
						mes "[Croix Army Officer]";
						mes "ข้าได้รับรายงานแจ้งว่า กองกำลังชั้นยอดได้ถูกส่งไปยังสนามรบเพื่อต่อสู้กับ Guillaume แล้ว";
						mes "ทำไมท่านไม่รอซักพักล่ะ? ข้าขอแนะนำให้ท่านลับอาวุธของท่าน และเตรียมเสบียงของท่านจนกว่าจะถึงตอนนั้น";
					}
					else {
						if ($@FlaviusBG2 > 0) {
							mes "[Croix Army Officer]";
							mes "กองกำลังชั้นนำกำลังยืนอยู่เพื่อถูกส่งไปยังสนามรบ";
							mes "ทำไมท่านไม่รอซักพักล่ะ? ข้าขอแนะนำให้ท่านลับอาวุธของท่าน และเตรียมเสบียงของท่านจนกว่าจะถึงตอนนั้น";
						}
						else {
							mes "[Croix Army Officer]";
							mes "ดูเหมือนท่านพร้อมสำหรับการต่อสู้อย่างแน่นอน!";
							mes "ไปแสดงให้ Guillaumes เห็นว่าความกลัวที่แท้จริงหมายถึงอะไร!";
							mes "วันนี้เสียงร้องแห่งชัยชนะของเราจะสะท้อนไปทั่วสนามรบ!";
							close2;
							warp "bat_room",141,207;
							end;
						}
					}
				}
			}
		}
		break;
	case 2:
		mes "[Croix Army Officer]";
		mes "วันนี้เราจะได้รับชัยชนะ!";
		break;
	}
	close;
}
